<!--The content below is only a placeholder and can be replaced.-->
<div class="container">
  <h2 class="title">Company info</h2>

  <img
    *ngIf="disable"
    id="blah"
    [src]="imageSrc"
    alt="your image"
    width="200"
    height="200"
  />
  <hr />

  <form [formGroup]="addCompanyDetails" (ngSubmit)="send()">
    <div class="form-group">
      <label>Name</label>
      <input
        type="text"
        class="form-control"
        formControlName="name"
        [attr.disabled]="disable ? '' : null"
      />
      <div class="text-danger" *ngIf="addCompanyDetails.get('name').touched">
        <div
          class="text-danger"
          *ngIf="addCompanyDetails.get('name').errors?.required"
        >
          Name is Required
        </div>
      </div>
    </div>
    <div class="form-group">
      <label>Email</label>
      <input
        type="email"
        class="form-control"
        formControlName="email"
        [attr.disabled]="disable ? '' : null"
      />
      <div class="text-danger" *ngIf="addCompanyDetails.get('email').touched">
        <div
          class="text-danger"
          *ngIf="addCompanyDetails.get('email').errors?.required"
        >
          Email is Required
        </div>
        <small
          class="text-danger"
          *ngIf="addCompanyDetails.get('email').errors?.email"
          >Enter valid email</small
        >
      </div>
    </div>
    <div class="form-group">
      <label>Mobile</label>
      <input
        type="text"
        class="form-control"
        formControlName="mobile"
        maxlength="10"
        onkeyup="this.value=this.value.replace(/[^\d]/,'')"
        [attr.disabled]="disable ? '' : null"
      />
      <p
        *ngIf="
          addCompanyDetails.get('mobile').errors?.required &&
          addCompanyDetails.get('mobile').touched
        "
        class="error-msg"
      >
        Mobile No. required!
      </p>
      <p
        *ngIf="addCompanyDetails.get('mobile').errors?.pattern"
        class="error-msg"
      >
        Enter valid phone number!
      </p>
    </div>
    <div class="form-group">
      <label>Address</label>
      <input
        type="text"
        class="form-control"
        formControlName="address"
        [attr.disabled]="disable ? '' : null"
      />
      <div class="text-danger" *ngIf="addCompanyDetails.get('address').touched">
        <div
          class="text-danger"
          *ngIf="addCompanyDetails.get('address').errors?.required"
        >
          Name is Required
        </div>
      </div>
    </div>
    <div class="form-group">
      <label>Gst Bill No</label>
      <input
        type="text"
        class="form-control"
        formControlName="gst"
        [attr.disabled]="disable ? '' : null"
      />
      <div class="text-danger" *ngIf="addCompanyDetails.get('gst').touched">
        <div
          class="text-danger"
          *ngIf="addCompanyDetails.get('gst').errors?.required"
        >
          GST no required
        </div>
      </div>
    </div>
    <div class="form-group">
      <label>Account No</label>
      <input
        type="text"
        class="form-control"
        formControlName="acno"
        [attr.disabled]="disable ? '' : null"
      />
      <div class="text-danger" *ngIf="addCompanyDetails.get('acno').touched">
        <div
          class="text-danger"
          *ngIf="addCompanyDetails.get('acno').errors?.required"
        >
          Account no required
        </div>
      </div>
    </div>
    <div class="form-group">
      <label>IFSC Code</label>
      <input
        type="text"
        class="form-control"
        formControlName="ifsc"
        [attr.disabled]="disable ? '' : null"
      />
      <div class="text-danger" *ngIf="addCompanyDetails.get('ifsc').touched">
        <div
          class="text-danger"
          *ngIf="addCompanyDetails.get('ifsc').errors?.required"
        >
          IFSC code required
        </div>
      </div>
    </div>
    <div class="form-group">
      <label>Form no.</label>
      <input
        type="text"
        class="form-control"
        formControlName="formno"
        [attr.disabled]="disable ? '' : null"
      />
      <div class="text-danger" *ngIf="addCompanyDetails.get('formno').touched">
        <div
          class="text-danger"
          *ngIf="addCompanyDetails.get('formno').errors?.required"
        >
          Form no required
        </div>
      </div>
    </div>
    <hr />

    <h4 class="subtitle " *ngIf="!disable">Logo</h4>
    <div class="form-group" *ngIf="!disable">
      <label>Select Logo</label>
      <input id="image" type="file" (change)="onSelectImage($event)" required />
      <img
        id="blah"
        [src]="imageSrc"
        alt="your image"
        width="200"
        height="200"
      />
    </div>

    <button
      *ngIf="!submitOnce"
      [disabled]="
        addCompanyDetails.get('name').errors?.required ||
        addCompanyDetails.get('email').errors?.required ||
        addCompanyDetails.get('mobile').errors?.required ||
        addCompanyDetails.get('address').errors?.required ||
        addCompanyDetails.get('gst').errors?.required ||
        addCompanyDetails.get('acno').errors?.required ||
        addCompanyDetails.get('ifsc').errors?.required ||
        addCompanyDetails.get('formno').errors?.required
      "
      class="btn btn-primary"
    >
      Add
    </button>
    <button
      *ngIf="!submitOnce"
      class="btn btn-primary ml-2"
      (click)="clearForm()"
    >
      Reset
    </button>
  </form>

  <button
    class="btn btn-success"
    *ngIf="submitOnce && !update"
    (click)="onUpdate()"
  >
    Update
  </button>
  <button class="btn btn-success" *ngIf="update" (click)="onSave()">
    Save
  </button>
  <br />
</div>
